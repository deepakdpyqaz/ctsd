import os
from bs4 import BeautifulSoup
from tqdm import tqdm
a = '''<div class="_2kHMtA" data-tkid="2c9409d0-5566-49e2-a8e2-7dc010e73291.MOBGC9GYEBH3GZ4E.SEARCH"><a class="_1fQZEK" target="_blank" rel="noopener noreferrer" href="/redmi-10-midnight-black-64-gb/p/itmd93641e4ebb47?pid=MOBGC9GYEBH3GZ4E&amp;lid=LSTMOBGC9GYEBH3GZ4E44YY0L&amp;marketplace=FLIPKART&amp;store=tyy%2F4io&amp;srno=b_1_23&amp;otracker=browse&amp;fm=organic&amp;iid=2c9409d0-5566-49e2-a8e2-7dc010e73291.MOBGC9GYEBH3GZ4E.SEARCH&amp;ppt=clp&amp;ppn=mobile-phones-store&amp;ssid=yac5b95au80000001679383980386"><div class="MIXNux"><div class="_2QcLo-"><div><div class="CXW8mj" style="height: 200px; width: 200px;"><img loading="eager" class="_396cs4" alt="REDMI 10 (Midnight Black, 64 GB)" src="https://rukminim1.flixcart.com/image/312/312/xif0q/mobile/9/q/j/-original-imagk4nzwhudqhcz.jpeg?q=70"></div></div></div><div class="_3wLduG"><div class="_3PzNI-"><span class="f3A4_V"><label class="_2iDkf8"><input type="checkbox" class="_30VH1S" readonly=""><div class="_24_Dny"></div></label></span><label class="_6Up2sF"><span>Add to Compare</span></label></div></div><div class="_2hVSre _3nq8ih"><div class="_36FSn5"><svg xmlns="http://www.w3.org/2000/svg" class="_1l0elc" width="16" height="16" viewBox="0 0 20 16"><path d="M8.695 16.682C4.06 12.382 1 9.536 1 6.065 1 3.219 3.178 1 5.95 1c1.566 0 3.069.746 4.05 1.915C10.981 1.745 12.484 1 14.05 1 16.822 1 19 3.22 19 6.065c0 3.471-3.06 6.316-7.695 10.617L10 17.897l-1.305-1.215z" fill="#2874F0" class="eX72wL" stroke="#FFF" fill-rule="evenodd" opacity=".9"></path></svg></div></div></div><div class="_3pLy-c row"><div class="col col-7-12"><div class="_4rR01T">REDMI 10 (Midnight Black, 64 GB)</div><div class="gUuXy-"><span id="productRating_LSTMOBGC9GYEBH3GZ4E44YY0L_MOBGC9GYEBH3GZ4E_" class="_1lRcqv"><div class="_3LWZlK">4.3<img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMiI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTYuNSA5LjQzOWwtMy42NzQgMi4yMy45NC00LjI2LTMuMjEtMi44ODMgNC4yNTQtLjQwNEw2LjUuMTEybDEuNjkgNC4wMSA0LjI1NC40MDQtMy4yMSAyLjg4Mi45NCA0LjI2eiIvPjwvc3ZnPg==" class="_1wB99o"></div></span><span class="_2_R_DZ"><span><span>2,00,707 Ratings&nbsp;</span><span class="_13vcmD">&amp;</span><span>&nbsp;12,583 Reviews</span></span></span></div><div class="fMghEO"><ul class="_1xgFaf"><li class="rgWa7D">4 GB RAM | 64 GB ROM | Expandable Upto 1 TB</li><li class="rgWa7D">17.02 cm (6.7 inch) HD+ Display</li><li class="rgWa7D">50MP + 2MP | 5MP Front Camera</li><li class="rgWa7D">6000 mAh Lithium Polymer Battery</li><li class="rgWa7D">Qualcomm Snapdragon 680 Processor</li><li class="rgWa7D">1 Year Warranty for Phone and 6 Months Warranty for In-Box Accessories</li></ul></div></div><div class="col col-5-12 nlI3QM"><div class="_3tbKJL"><div class="_25b18c"><div class="_30jeq3 _1_WHN1">₹9,499</div><div class="_3I9_wc _27UcVY">₹14,999</div><div class="_3Ay6Sb"><span>36% off</span></div></div><div class="_3tcB5a p8ucoS"><div><div class="_2Tpdn3" style="color: rgb(0, 0, 0); font-size: 12px; font-weight: 400;">Free delivery</div></div></div></div><div class="_13J9qT"><img height="21" src="//static-assets-web.flixcart.com/fk-p-linchpin-web/fk-cp-zion/img/fa_62673a.png"></div><div class="_2ZdXDB"><div class="_3xFhiH"><div class="_2Tpdn3 _18hQoS" style="color: rgb(0, 0, 0); font-size: 14px; font-style: normal; font-weight: 400;">Upto </div><div class="_2Tpdn3 _18hQoS" style="color: rgb(0, 0, 0); font-size: 14px; font-style: normal; font-weight: 700;">₹8,950</div><div class="_2Tpdn3 _18hQoS" style="color: rgb(0, 0, 0); font-size: 14px; font-style: normal; font-weight: 400;"> Off on Exchange</div></div></div><div class="_2ZdXDB"><div class="_3xFhiH"><div class="_2Tpdn3 _18hQoS" style="color: rgb(38, 165, 65); font-size: 14px; font-weight: 700;">Bank Offer</div></div></div></div></div></a></div>'''
soup = BeautifulSoup(a, 'html.parser')
link = soup.find('a')
review_url = ("https://www.flipkart.com"+link.get('href')).replace("/p/", "/product-reviews/")
name = soup.find("div",class_="_4rR01T").text
rating = float(soup.find("div",class_="_3LWZlK").text)
price = soup.find("div",class_="_30jeq3").text
obj = {
    "name": name,
    "rating": rating,
    "price": price,
    "review_url": review_url
}
print(obj)
